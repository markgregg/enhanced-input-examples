import{r as m,j as l}from"./index-BZvD_NE6.js";import{i as v,a as p,C as h,t as y,b as A,c as S,d as k,e as C,f as D,S as E}from"./data-BMBs7j4S.js";function F(){const[g,b]=m.useState(""),[f,x]=m.useState([]);m.useEffect(()=>{n(`XS1966819226 asdkljs ahjklas kjk IT000453454 al,dsklaj klasjd lk
    asdl sajkl; ABD l;kdl;k asd lasd;jk sa;k akjl kljkl jkj sad AT000B126958
    FAN ZEN YY`,0,!0)},[]);const n=(s,i,r)=>{const a=s.trimEnd().lastIndexOf(" ",s[i]===" "?i-1:i)+1,w=s.substring(a).split(/ |\n|\r|\t/),o=f.filter(t=>!r&&t.id!=="bad-edit"||t.start+t.length<a&&t.id!=="bad-edit"),c="margin-right: 2px;";let e=a;w.forEach(t=>{if(t.match(v))r&&(p.includes(t.toUpperCase())?o.push({id:`isin${e}`,start:e,length:t.length,style:c,Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}}):o.push({id:`isin${e}`,start:e,length:t.length,style:c,Decorator:h,decoratorStyle:{backgroundColor:"rgb(154, 61, 55)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}}));else if(y.includes(t))r&&o.push({id:`ticker${e}`,start:e,length:t.length,style:c,Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}});else if(A(t))r&&o.push({id:`vol${e}`,start:e,length:t.length,style:c,customProps:"Size",Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}});else if(S(t))r&&o.push({id:`prc${e}`,start:e,length:t.length,style:c,Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}});else if(i>=e&&i<=e+t.trimEnd().length&&t[i]!==""){if(t.match(k)){const d=p.filter(u=>u.includes(t));d.length>0&&o.push({id:"bad-edit",start:e,length:t.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:d.slice(0,5)}})}else if(t.match(C)){const d=y.filter(u=>u.includes(t));d.length>0&&o.push({id:"bad-edit",start:e,length:t.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:d.slice(0,5)}})}}e=e+t.length+1}),JSON.stringify(o)!==JSON.stringify(f)&&x(o),r&&b(s)},j=(s,i)=>{const r=f.find(a=>a.id===s);if(r){const a=g.substring(0,r.start)+i+g.substring(r.start+r.length);n(a,r.start,!0)}};return l.jsxs("div",{children:[l.jsxs("span",{children:["Dropdowns list can be assoicated against a TextBlock. They will always appear just below the block. They can be activiated either by -",l.jsx("br",{}),l.jsx("br",{}),l.jsx("b",{children:"cursorposition:"})," when the cursor is within the TextBlock",l.jsx("br",{}),l.jsx("b",{children:"mouseover:"})," when the mouse is over the TextBlock"]}),l.jsx("pre",{children:`
TextBlock
{
  id: 'bad-edit',
  start: pos,
  length: token.length,
  style: 'font-style: italic;font-weight: bold;',
  dropDown: {
    activation: 'cursorposition',
    options: ['item1', 'item2', 'item3'],
  }
}`}),l.jsx("div",{style:{height:"300px",width:"600px",position:"relative"},children:l.jsx(D,{style:{fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"},lineHeight:"40px",text:g,textBlocks:f,inputDecorator:l.jsx(E,{onClick:()=>n("",0,!0)}),onChange:(s,i)=>n(s,i,!0),onCursorPositionChanged:(s,i)=>n(s,i),onDropDownItemSelected:(s,i)=>j(s,i)})})]})}typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{F as PillDecorators};
