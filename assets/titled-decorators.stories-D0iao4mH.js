import{r as f,j as d}from"./index-Dv3onwxY.js";import{i as j,a as p,O as h,t as y,b as S,c as k,d as I,e as D,f as P}from"./data-BytGOI_h.js";function B(){const[u,x]=f.useState(""),[a,v]=f.useState([]);f.useEffect(()=>{g(`XS1966819226 asdkljs ahjklas kjk IT000453454 al,dsklaj klasjd lk
    asdl sajkl; ABD l;kdl;k asd lasd;jk sa;k akjl kljkl jkj sad AT000B126958
    FAN ZEN YY`,0,!0)},[]);const g=(e,i,r)=>{const l=e.trimEnd().lastIndexOf(" ",e[i]===" "?i-1:i)+1,A=e.substring(l).split(/ |\n|\r|\t/),o=a.filter(t=>!r&&t.id!=="bad-edit"||t.start+t.length<l&&t.id!=="bad-edit"),n="text-decoration-line: underline; margin-right: 2px;";let s=l;A.forEach(t=>{if(t.match(j))r&&(p.includes(t.toUpperCase())?o.push({id:`isin${s}`,start:s,length:t.length,style:n,customProps:"ISIN",Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}}):o.push({id:`isin${s}`,start:s,length:t.length,style:n,customProps:"Invalid ISIN",Decorator:h,decoratorStyle:{backgroundColor:"rgb(154, 61, 55)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}}));else if(y.includes(t))r&&o.push({id:`ticker${s}`,start:s,length:t.length,style:n,customProps:"Ticker",Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}});else if(S(t))r&&o.push({id:`vol${s}`,start:s,length:t.length,style:n,customProps:"Size",Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}});else if(k(t))r&&o.push({id:`prc${s}`,start:s,length:t.length,style:n,customProps:"Price",Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}});else if(i>=s&&i<=s+t.trimEnd().length&&t[i]!==""){if(t.match(I)){const c=p.filter(m=>m.includes(t));c.length>0&&o.push({id:"bad-edit",start:s,length:t.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:c.slice(0,5)}})}else if(t.match(D)){const c=y.filter(m=>m.includes(t));c.length>0&&o.push({id:"bad-edit",start:s,length:t.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:c.slice(0,5)}})}}s=s+t.length+1}),JSON.stringify(o)!==JSON.stringify(a)&&v(o),r&&x(e)},b=(e,i)=>{const r=a.find(l=>l.id===e);if(r){const l=u.substring(0,r.start)+i+u.substring(r.start+r.length);g(l,r.start,!0)}},w=f.useMemo(()=>a.map(e=>e.customProps?{...e,customProps:{title:e.customProps,position:"top"}}:e),[a]);return d.jsxs("div",{children:[d.jsx("span",{children:"The below example demonstrates pill decorators (decorators that look like pills). The code for the TextBlock is shown below. A larger line height is recommended when deocrating text."}),d.jsx("pre",{children:`
TextBlock
{
  id: 'id',
  start: pos,
  length: token.length,
  style,
  customProps: 'Size',
  Decorator: TitleDecorator,
  decoratorStyle: {
    backgroundColor: 'rgb(68, 68, 68)',
    color: 'white',
    fontFamily: 'Inter, system-ui, Avenir, Helvetica, Arial, sans-serif',
  }
}`}),d.jsx("div",{style:{height:"300px",width:"600px",position:"relative"},children:d.jsx(P,{style:{fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"},text:u,textBlocks:w,onChange:(e,i)=>g(e,i,!0),onCursorPositionChanged:(e,i)=>g(e,i),onDropDownItemSelected:(e,i)=>b(e,i)})})]})}typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{B as TitleDecorators};
