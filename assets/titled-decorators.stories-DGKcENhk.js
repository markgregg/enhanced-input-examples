import{r as u,j as a}from"./index-ZOtpgXtz.js";import{i as A,a as p,O as h,t as y,b as S,c as I,d as k,e as D,f as E}from"./data-DacIZyLb.js";function B(){const[f,x]=u.useState(""),[n,v]=u.useState([]);u.useEffect(()=>{g(`XS1966819226 asdkljs ahjklas kjk IT000453454 al,dsklaj klasjd lk
    asdl sajkl; ABD l;kdl;k asd lasd;jk sa;k akjl kljkl jkj sad AT000B126958
    FAN ZEN YY`,0,!0)},[]);const g=(e,i,r)=>{const l=e.trimEnd().lastIndexOf(" ",e[i]===" "?i-1:i)+1,j=e.substring(l).split(/ |\n|\r|\t/),o=n.filter(t=>!r&&t.id!=="bad-edit"||t.start+t.length<l&&t.id!=="bad-edit"),c="text-decoration-line: underline; margin-right: 2px;";let s=l;j.forEach(t=>{if(t.match(A))r&&(p.includes(t.toUpperCase())?o.push({id:`isin${s}`,start:s,length:t.length,style:c,customProps:"ISIN",Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}}):o.push({id:`isin${s}`,start:s,length:t.length,style:c,customProps:"Invalid ISIN",Decorator:h,decoratorStyle:{backgroundColor:"rgb(154, 61, 55)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}}));else if(y.includes(t))r&&o.push({id:`ticker${s}`,start:s,length:t.length,style:c,customProps:"Ticker",Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}});else if(S(t))r&&o.push({id:`vol${s}`,start:s,length:t.length,style:c,customProps:"Size",Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}});else if(I(t))r&&o.push({id:`prc${s}`,start:s,length:t.length,style:c,customProps:"Price",Decorator:h,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"}});else if(i>=s&&i<=s+t.trimEnd().length&&t[i]!==""){if(t.match(k)){const d=p.filter(m=>m.includes(t));d.length>0&&o.push({id:"bad-edit",start:s,length:t.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:d.slice(0,5)}})}else if(t.match(D)){const d=y.filter(m=>m.includes(t));d.length>0&&o.push({id:"bad-edit",start:s,length:t.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:d.slice(0,5)}})}}s=s+t.length+1}),JSON.stringify(o)!==JSON.stringify(n)&&v(o),r&&x(e)},b=(e,i)=>{const r=n.find(l=>l.id===e);if(r){const l=f.substring(0,r.start)+i+f.substring(r.start+r.length);g(l,r.start,!0)}},w=u.useMemo(()=>n.map(e=>e.customProps?{...e,customProps:{title:e.customProps,position:"top"}}:e),[n]);return a.jsxs("div",{className:"storyStyle",children:[a.jsx("h1",{children:"Enhanced Input With Tiled Decorators"}),a.jsx("div",{className:"text",children:"The below example demonstrates pill decorators (decorators that look like pills). The code for the TextBlock is shown below. A larger line height is recommended when deocrating text."}),a.jsx("pre",{children:`
TextBlock
{
  id: 'id',
  start: pos,
  length: token.length,
  style,
  customProps: 'Size',
  Decorator: TitleDecorator,
  decoratorStyle: {
    backgroundColor: 'rgb(68, 68, 68)',
    color: 'white',
    fontFamily: 'Inter, system-ui, Avenir, Helvetica, Arial, sans-serif',
  }
}`}),a.jsx("div",{style:{height:"300px",width:"600px",position:"relative"},children:a.jsx(E,{style:{fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif"},text:f,textBlocks:w,onChange:(e,i)=>g(e,i,!0),onCursorPositionChanged:(e,i)=>g(e,i),onDropDownItemSelected:(e,i)=>b(e,i)})})]})}typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{B as TitleDecorators};
